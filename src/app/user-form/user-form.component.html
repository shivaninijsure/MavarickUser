<div class="row g-1 m-4">

    <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="row g-3 userMainContainer">

        <div class="imgPicker col-md-3">
            <input style="width:100px" type="file" accept="image/*" (change)="selectFile($event)" />
            <img [src]="preview" class="preview img-fluid imgContainer" />
        </div>

        <div class="row g-3 formContainer">

            <div class="col-md-6">
                <label for="validationDefault01" class="form-label">Name</label>
                <input type="text" class="form-control" id="validationDefault01" formControlName="name">
                <span
                    *ngIf="userForm.get('name')?.invalid && userForm.get('name')?.errors && (userForm.get('name')?.dirty || userForm.get('name')?.touched)">
                    <small class="text-danger" *ngIf="userForm.get('name')?.hasError('required')">Name is
                        required.</small>
                </span>
            </div>

            <div class="col-md-6">
                <label for="validationDefault02" class="form-label">Email</label>
                <input type="text" class="form-control" id="validationDefault02" formControlName="email">
                <span
                    *ngIf="userForm.get('email')?.invalid && userForm.get('email')?.errors && (userForm.get('email')?.dirty || userForm.get('email')?.touched)">
                    <small class="text-danger" *ngIf="userForm.get('email')?.hasError('required')">Email is
                        required.</small>
                    <small class="text-danger" *ngIf="userForm.get('email')?.hasError('email')">Email format is
                        incorrect.</small>
                </span>
            </div>

            <div class="col-md-6">
                <label for="validationDefault02" class="form-label">Phone</label>
                <input type="text" class="form-control" id="validationDefault02" formControlName="phone">
                <span
                    *ngIf="userForm.get('phone')?.invalid && userForm.get('phone')?.errors && (userForm.get('phone')?.dirty || userForm.get('phone')?.touched)">
                    <small class="text-danger" *ngIf="userForm.get('phone')?.hasError('required')">Phone is
                        required.</small>
                    <small class="text-danger" *ngIf="userForm.get('phone')?.hasError('pattern')">Phone format is
                        incorrect. Only digits are allowed.</small>
                </span>
            </div>

            <div class="col-md-6">
                <label for="validationDefault02" class="form-label">City</label>
                <input type="text" class="form-control" id="validationDefault02" formControlName="city">
                <span
                    *ngIf="userForm.get('city')?.invalid && userForm.get('city')?.errors && (userForm.get('city')?.dirty || userForm.get('city')?.touched)">
                    <small class="text-danger" *ngIf="userForm.get('city')?.hasError('required')">City is
                        required.</small>
                </span>
            </div>
        </div>

        <div class="col-12">
            <button class="btn btn-primary" type="submit" [disabled]="userForm.invalid">{{isUpdate ? 'Update User' :
                'Add User'}}</button>
        </div>

    </form>
</div>

<div >
    <app-user-table [isChild]="true" [userObservable]="userSubject.asObservable()"
        (updateUserEvent)="updateUserEvent($event)"></app-user-table>
</div>